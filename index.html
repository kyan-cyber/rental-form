<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>LIFFテスト</title>
</head>
<body>
  <h1>LIFFユーザー確認</h1>
  <p id="status">LIFF初期化中...</p>
  <p id="userId">ユーザーID: （取得中）</p>

  <!-- LIFF SDK -->
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <script>
    const liffId = "2007393080-wv2Vmo6D"; // ← 正しいLIFF IDに置き換えてください

  liff.init({ liffId }).then(() => {
      document.getElementById("status").textContent = "LIFF初期化成功！";

      if (!liff.isLoggedIn()) {
        liff.login();
      } else {
        liff.getProfile().then(profile => {
          const userId = profile.userId;
          document.getElementById("userId").textContent = "ユーザーID: " + userId;
          console.log("ユーザーID:", userId);
        }).catch(err => {
          console.error("プロフィール取得エラー:", err);
        });
      }
    }).catch(err => {
      console.error("LIFF初期化エラー:", err);
      document.getElementById("status").textContent = "LIFF初期化エラー: " + err;
    });
  </script>
</body>
</html>
